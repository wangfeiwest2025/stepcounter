# 开发硬件环境 (Development Hardware Environment)

## 项目概述
本项目是一个基于Flutter框架的步数计数器应用程序，旨在跨多个平台（Android、iOS、Windows、Linux、macOS和Web）运行。该应用利用设备的硬件传感器来实时追踪和记录用户的步数。

## 核心程序名称
**StepCounter** - 跨平台步数计数器应用程序

## 开发目的
该应用程序的开发目的是：

1. **健康监测**：帮助用户追踪日常活动量，通过步数统计鼓励用户保持积极的生活方式
2. **跨平台兼容**：使用Flutter框架实现一次开发，多平台部署，覆盖Android、iOS、Windows、Linux、macOS和Web平台
3. **硬件集成**：充分利用移动设备的内置传感器（如加速度计、陀螺仪、步数计数器）提供准确的步数统计
4. **数据可视化**：以直观的界面展示用户的步数数据，包括当日步数、历史统计和目标完成情况
5. **用户友好**：提供简洁易用的界面，让用户能够轻松查看和管理自己的步数信息
6. **隐私保护**：所有步数数据都存储在本地设备上，不涉及用户隐私数据的上传或共享

## 面向领域 / 行业
该应用程序主要面向以下领域和行业：

1. **健康与健身行业**：
   - 个人健康监测工具
   - 健身追踪应用
   - 运动数据分析

2. **医疗保健行业**：
   - 康复治疗辅助工具
   - 慢性病管理支持
   - 患者日常活动监测

3. **可穿戴设备行业**：
   - 智能手机健康应用
   - 智能手表配套应用
   - IoT健康设备集成

4. **企业健康管理**：
   - 员工健康促进计划
   - 团队健身挑战应用
   - 企业福利管理工具

5. **老年护理行业**：
   - 老年人日常活动监测
   - 居家养老辅助工具
   - 健康状况跟踪系统

6. **教育行业**：
   - 学生体质监测
   - 体育课程辅助工具
   - 健康教育应用

## 软件的主要功能
该步数计数器应用程序提供以下主要功能：

1. **实时步数统计**：
   - 利用设备内置传感器实时追踪用户步数
   - 准确记录每日行走步数
   - 自动识别和过滤非步行活动

2. **数据存储与管理**：
   - 本地存储步数历史数据
   - 按日期组织和保存步数记录
   - 数据持久化，应用重启后数据不丢失

3. **目标设定与追踪**：
   - 允许用户设置每日步数目标
   - 实时显示目标完成进度
   - 提供目标完成度可视化反馈

4. **统计分析**：
   - 显示当日步数统计
   - 提供本周步数汇总
   - 提供本月步数统计
   - 近七天步数趋势展示

5. **用户界面**：
   - 直观的数字显示当日步数
   - 进度条显示目标完成情况
   - 清晰的统计数据展示
   - 简洁美观的UI设计

6. **权限管理**：
   - 请求必要的传感器访问权限
   - 处理权限拒绝情况
   - 提供用户友好的权限说明

7. **跨平台兼容**：
   - 支持Android、iOS、Windows、Linux、macOS和Web平台
   - 适配不同设备的传感器特性
   - 统一的用户体验

8. **自动重置机制**：
   - 每日零点自动重置步数计数
   - 保留历史数据供统计分析
   - 处理设备重启等情况

## 软件运行支撑环境 / 支持软件
该应用程序运行所需的支撑环境和支持软件包括：

### 移动端运行环境
1. **Android平台**：
   - Android 4.4 (API level 19) 或更高版本
   - 需要支持Activity Recognition的硬件
   - 设备内置步数传感器或加速度计
   - Google Play Services（部分功能可能需要）

2. **iOS平台**：
   - iOS 8.0 或更高版本
   - M7运动协处理器或更新版本（iPhone 5s及以上）
   - 相应的健康和运动权限

### 桌面端运行环境
1. **Windows平台**：
   - Windows 10或更高版本
   - 支持的传感器API
   - .NET Framework 4.7.2或更高版本

2. **Linux平台**：
   - 支持的Linux发行版（Ubuntu 20.04 LTS或更高版本推荐）
   - 支持的传感器API
   - GTK+ 3.0或更高版本

3. **macOS平台**：
   - macOS 10.15或更高版本
   - 支持的传感器API

### Web端运行环境
1. **浏览器要求**：
   - 现代浏览器（Chrome、Firefox、Safari、Edge）
   - 支持Web API传感器接口
   - JavaScript启用

### 开发和构建工具
1. **Flutter SDK**：
   - Flutter 3.9.0或更高版本
   - Dart SDK 3.9.0或更高版本

2. **平台特定工具**：
   - Android：Android Studio或Android SDK
   - iOS：Xcode 14.0或更高版本（仅macOS）
   - Windows：Visual Studio 2022或更高版本
   - Linux：Clang、CMake、pkg-config、libgtk-3-dev等
   - macOS：Xcode 14.0或更高版本

### 依赖库和框架
1. **核心依赖**：
   - Flutter框架
   - Dart语言运行时

2. **第三方库**：
   - pedometer: ^4.1.1（步数计数功能）
   - shared_preferences: ^2.3.2（本地数据存储）
   - intl: ^0.19.0（国际化支持）
   - permission_handler: ^11.3.1（权限管理）
   - cupertino_icons: ^1.0.8（iOS风格图标）

## 软件的技术特点
该应用程序具有以下技术特点：

### 1. 跨平台架构
- 基于Flutter框架实现一次开发，多平台部署
- 统一的代码库支持Android、iOS、Windows、Linux、macOS和Web
- 平台特定代码最小化，提高开发效率

### 2. 硬件传感器集成
- 利用设备内置的步数计数器传感器
- 支持加速度计和陀螺仪数据融合
- 实时数据流处理，提供即时反馈

### 3. 异步数据处理
- 使用Dart的Stream API处理传感器数据流
- 异步数据存储，避免阻塞UI线程
- 事件驱动架构，提高应用响应性

### 4. 本地数据持久化
- 使用shared_preferences实现轻量级数据存储
- 结构化数据管理，支持历史记录查询
- 数据加密和安全存储机制

### 5. 权限管理机制
- 动态权限请求和处理
- 跨平台权限适配
- 用户友好的权限说明和引导

### 6. 用户界面设计
- 响应式UI设计，适配不同屏幕尺寸
- Material Design和Cupertino风格组件
- 数据可视化展示，直观易懂

### 7. 自动化管理
- 每日零点自动重置机制
- 智能数据同步和备份
- 设备重启状态恢复

### 8. 性能优化
- 低功耗设计，最小化电池消耗
- 内存优化，减少资源占用
- 高效的数据结构和算法

### 9. 可扩展性
- 模块化设计，便于功能扩展
- 插件化架构，支持第三方集成
- 清晰的代码结构和注释

## 开发语言
- **主要语言**：Dart
- **框架**：Flutter SDK
- **原生代码**：部分平台特定功能使用Java/Kotlin（Android）和Swift（iOS）

## 代码规模
应用核心代码主要分布在以下三个文件中：
- `lib/main.dart`：23行代码（应用入口和主组件）
- `lib/step_counter_screen.dart`：333行代码（步数计数器UI界面）
- `lib/step_counter_service.dart`：390行代码（步数计数服务逻辑）

**核心应用代码总计：746行**

### 项目总代码规模
通过精确统计，整个项目的代码行数如下：

**Dart源代码文件**：
- 所有.dart文件总计：5,139行
- 核心应用逻辑代码（lib/目录下）：746行

**平台特定源代码**：
- C++/Swift/Java/Kotlin源文件总计：11,536行
- 包括Windows、Linux、macOS、Android、iOS等平台的原生代码

**配置文件**：
- YAML/JSON/XML配置文件总计：584行
- 包括pubspec.yaml、AndroidManifest.xml等配置文件

**总计**：整个项目的源代码和配置文件共计17,259行

需要注意的是，这不包括自动生成的文件、构建产物和二进制资源文件。核心业务逻辑代码集中在Dart文件中，特别是lib/目录下的三个主要文件。

## 硬件依赖

### 1. 移动设备传感器
- **步数传感器**：应用的核心功能依赖于设备内置的步数计数器传感器（pedometer sensor）
- **加速度计**：用于检测用户的运动状态和步数变化
- **陀螺仪**：辅助运动检测，提高步数计算的准确性

### 2. 平台特定硬件要求

#### Android设备
- Android 4.4 (API level 19) 或更高版本
- 需要支持Activity Recognition的硬件
- ACTIVITY_RECOGNITION 权限支持

#### iOS设备
- iOS 8.0 或更高版本
- M7运动协处理器或更新版本（iPhone 5s及以上）

#### 其他平台
- Windows、Linux、macOS：依赖于系统提供的传感器API
- Web：依赖于浏览器支持的运动传感器API

## 开发环境硬件要求

### 开发机器配置
- **处理器**：Intel i5/AMD Ryzen 5 或更高
- **内存**：8GB RAM 或更高（推荐16GB）
- **存储**：至少50GB可用磁盘空间
- **显示器**：1080p分辨率或更高

### 移动开发硬件
- **Android设备**：用于测试和调试的物理Android设备（推荐）
- **iOS设备**：用于测试和调试的物理iOS设备（需要Mac开发环境）
- **模拟器/仿真器**：Android Emulator、iOS Simulator（作为物理设备的补充）

### 开发工具硬件要求
- 支持的IDE：Android Studio、IntelliJ IDEA、VS Code
- Flutter SDK支持的开发操作系统：Windows 10/11、macOS 10.15或更高版本、Linux (64-bit)

## 传感器权限要求

应用需要访问设备的活动识别功能：
- Android: `android.permission.ACTIVITY_RECOGNITION`
- iOS: 相应的运动和健康权限

## 网络硬件要求
虽然应用主要依赖本地传感器，但可能需要网络连接用于：
- 应用更新
- 云端数据同步（如果实现）
- 第三方服务集成

## 存储硬件要求
- 内部存储：用于保存应用数据和用户步数历史
- 可选的外部存储：用于数据备份和导出

## 性能考虑
- 传感器数据处理对CPU的要求较低
- 应用在后台运行时对电池的影响最小化
- 数据持久化使用SharedPreferences，对存储I/O要求不高

## 测试硬件环境
建议在以下设备上进行测试：
1. 不同品牌和型号的Android手机
2. 不同代际的iPhone设备
3. 各主流厂商的Windows/Linux桌面电脑
4. 各版本的浏览器（Chrome、Firefox、Safari等）

## 特殊硬件注意事项
- 在没有硬件传感器的设备上，应用可能无法正常工作或需要模拟数据
- 虚拟设备可能无法完全模拟真实传感器的行为
- 不同厂商的传感器实现可能存在差异，需要在多种设备上进行兼容性测试